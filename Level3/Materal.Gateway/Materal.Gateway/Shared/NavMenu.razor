@using Materal.Gateway.OcelotExtension.Services;
@inject IOcelotConfigService _ocelotConfigService;

@attribute [Authorize]

<Menu Mode="MenuMode.Inline">
    <MenuItem RouterLink="./" RouterMatch="NavLinkMatch.All">首页</MenuItem>
    <SubMenu Title="配置">
        <SubMenu Title="全局配置">
            <MenuItem RouterLink="./Setting/GlobalConfiguration/ServiceDiscoveryProvider" RouterMatch="NavLinkMatch.All">服务发现</MenuItem>
            <MenuItem RouterLink="./Setting/GlobalConfiguration/GlobalRateLimitOptions" RouterMatch="NavLinkMatch.All">限流</MenuItem>
            <MenuItem RouterLink="./Setting/GlobalConfiguration/BaseUrlCtrl" RouterMatch="NavLinkMatch.All">基地址</MenuItem>
        </SubMenu>
        <MenuItem RouterLink="./Setting/SwaggerEndPoints" RouterMatch="NavLinkMatch.All">Swagger配置</MenuItem>
        <MenuItem RouterLink="./Setting/Routes" RouterMatch="NavLinkMatch.Prefix">路由配置</MenuItem>
    </SubMenu>
    <SubMenu Title="工具">
        @if (_ocelotConfigService.OcelotConfig.GlobalConfiguration.ServiceDiscoveryProvider != null)
        {
            <MenuItem RouterLink="./Tools/SyncConsul">同步Consul</MenuItem>
        }
    </SubMenu>
</Menu>