@using RC.Deploy.Enums;
@using RC.Deploy.PresentationModel.DefaultData;

<Form Model="Model" Loading="Loading" ValidateMode="FormValidateMode.Complex" LabelColSpan="3" WrapperColSpan="8" OnFinish="OnFinish">
    <FormItem Label="键">
        <Input @bind-Value="context.Key" />
    </FormItem>
    <FormItem Label="数据">
        <Select DataSource="allApplicationTypes" ValueName="Value" LabelName="Name" @bind-Value="context.ApplicationType"></Select>
    </FormItem>
    <FormItem Label="数据">
        <TextArea Rows="4" @bind-Value="context.Data" />
    </FormItem>
    <FormItem WrapperColOffset="3" WrapperColSpan="8">
        <Button Style="margin:10px 0 0 0" Type="@ButtonType.Primary" Block HtmlType="submit">保存</Button>
    </FormItem>
</Form>

@code {
    [Parameter]
    public EditDefaultDataRequestModel Model { get; set; } = new();
    [Parameter]
    public bool Loading { get; set; } = new();
    [Parameter]
    public EventCallback<EditContext> OnFinish { get; set; } = new();
    private List<SelectDataModel<ApplicationTypeEnum>> allApplicationTypes = SelectDataModel<ApplicationTypeEnum>.GetList<ApplicationTypeEnum>();
}
