@page "/DefaultDatas/DefaultData"
@page "/DefaultDatas/DefaultData/{id:guid}"

@using RC.Deploy.DataTransmitModel.DefaultData;
@using RC.Deploy.HttpClient;
@using RC.Deploy.PresentationModel.DefaultData;
@using RC.ServerCenter.Web.Controls.DefaultDataControls

@inherits BaseDetail<AddDefaultDataRequestModel, EditDefaultDataRequestModel, QueryDefaultDataRequestModel, DefaultDataDTO, DefaultDataListDTO, DefaultDataHttpClient>;

<PageTitle>默认数据管理-RC</PageTitle>

@if (IsAdd)
{
    <AddDefaultData Model="AddModel" Loading="Loading" OnFinish="Add"></AddDefaultData>
}
else
{
    <EditDefaultData Model="EditModel" Loading="Loading" OnFinish="Edit"></EditDefaultData>
}

@code {
    protected override void OnAfterRender(bool firstRender)
    {
        if (firstRender)
        {
            RCData.ShowDeploys = false;
            RCData.ShowEnvironments = false;
            ListName = "DefaultDatas";
            Reload();
        }
        base.OnAfterRender(firstRender);
    }
}
