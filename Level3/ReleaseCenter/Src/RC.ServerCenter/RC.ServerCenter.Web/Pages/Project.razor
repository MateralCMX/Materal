@page "/Projects/Project"
@page "/Projects/Project/{id:guid}"

@using RC.ServerCenter.DataTransmitModel.Project;
@using RC.ServerCenter.HttpClient;
@using RC.ServerCenter.PresentationModel.Project;
@using RC.ServerCenter.Web.Controls.ProjectControls

@inherits BaseDetail<AddProjectRequestModel, EditProjectRequestModel, QueryProjectRequestModel, ProjectDTO, ProjectListDTO, ProjectHttpClient>;

<PageTitle>项目管理-RC</PageTitle>

@if (IsAdd)
{
    <AddProject Model="AddModel" Loading="Loading" OnFinish="Add"></AddProject>
}
else
{
    <EditProject Model="EditModel" Loading="Loading" OnFinish="Edit"></EditProject>
}

@code {
    protected override void OnAfterRender(bool firstRender)
    {
        if (firstRender)
        {
            RCData.ShowDeploys = false;
            RCData.ShowEnvironments = false;
            ListName = "Projects";
            Reload();
        }
        base.OnAfterRender(firstRender);
    }
}
