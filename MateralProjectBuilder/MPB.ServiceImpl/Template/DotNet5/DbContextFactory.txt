using Materal.TTA.SqlServerRepository.Model;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Design;

namespace ${ProjectName}.SqlServerEFRepository
{
    public class ${ProjectName}DbContextFactory : IDesignTimeDbContextFactory<${ProjectName}DbContext>
    {
        public ${ProjectName}DbContext CreateDbContext(string[] args)
        {
            var optionsBuilder = new DbContextOptionsBuilder<${ProjectName}DbContext>();
            var config = new SqlServerConfigModel
            {
                Address = "127.0.0.1",
                Port = "1433",
                Name = "${ProjectName}DB",
                UserID = "sa",
                Password = "123456",
            };
            optionsBuilder.UseSqlServer(config.ConnectionString);
            return new ${ProjectName}DbContext(optionsBuilder.Options);
        }
    }
}